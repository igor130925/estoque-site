<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Estoque - Sistema de Gerenciamento</title>
  <link rel="stylesheet" href="css/style.css" />
  <link rel="stylesheet" href="css/estoque.css" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" />
</head>
<body>
  <!-- Barra de navegação -->
  <header class="top-nav">
    <div class="nav-container">
      <button class="menu-btn" id="menuBtn" aria-label="Abrir menu"><i class="fas fa-bars"></i></button>
      <h1 class="logo">Sistema de Estoque</h1>
      <nav class="desktop-nav" aria-label="Navegação principal">
        <ul>
          <li><a href="produtos.html"><i class="fas fa-boxes" aria-hidden="true"></i> Produtos</a></li>
          <li><a href="movimentaçao.html"><i class="fas fa-chart-bar"></i> movimentacao</a></li>
           <li><a href="perfil.html"><i class="fas fa-chart-bar"></i> perfil</a></li>
        </ul>
      </nav>
    </div>
  </header>

  <!-- Menu Superior -->
  <header class="top-bar">
    <div class="container">
      <h1><i class="fas fa-boxes" aria-hidden="true"></i> Controle de Estoque</h1>
      <div class="user-info">
        <span id="currentUser">Usuário</span>
        <a href="index.html" class="btn secondary" aria-label="Sair do sistema">
          <i class="fas fa-sign-out-alt" aria-hidden="true"></i> Sair
        </a>
      </div>
    </div>
  </header>

  <!-- Conteúdo Principal -->
  <main class="container" role="main">
    <!-- Filtros -->
    <section class="card" aria-labelledby="filtrosTitle">
      <h2 id="filtrosTitle" class="sr-only">Filtros de Busca</h2>
      <div class="filtros">
        <div class="form-group">
          <label for="filtroBusca"><i class="fas fa-search" aria-hidden="true"></i> Buscar:</label>
          <input type="text" id="filtroBusca" placeholder="Digite o nome do item" />
        </div>
        <div class="form-group">
          <label for="filtroCategoria"><i class="fas fa-tag" aria-hidden="true"></i> Categoria:</label>
          <select id="filtroCategoria">
            <option value="">Todas</option>
            <option value="perecivel">Perecíveis</option>
            <option value="roupa">Roupas</option>
            <option value="eletronico">Eletrônicos</option>
            <option value="moveis">Móveis</option>
            <option value="ferramentas">Ferramentas</option>
          </select>
        </div>
      </div>
    </section>

    <!-- Tabela de Estoque -->
    <section class="card" aria-labelledby="itensEstoqueTitle">
      <h2 id="itensEstoqueTitle"><i class="fas fa-box-open" aria-hidden="true"></i> Itens em Estoque</h2>
      <div class="table-responsive">
        <table id="tabelaEstoque" aria-describedby="estoqueDesc">
          <caption id="estoqueDesc">Tabela com os itens disponíveis em estoque</caption>
          <thead>
            <tr>
              <th scope="col">Código</th>
              <th scope="col">Imagem</th>
              <th scope="col">Item</th>
              <th scope="col">Categoria</th>
              <th scope="col">Quantidade</th>
              <th scope="col">Validade</th>
              <th scope="col">Ações</th>
            </tr>
          </thead>
          <tbody>
            <!-- Dados serão carregados via JavaScript -->
          </tbody>
        </table>
      </div>
    </section>

    <!-- Modal de Ações -->
    <div id="modalAcoes" class="modal" role="dialog" aria-modal="true" aria-labelledby="modalAcoesTitle" aria-hidden="true" hidden>
      <div class="modal-content">
        <div class="modal-header">
          <h3 id="modalAcoesTitle"><i class="fas fa-tools"></i> Ações no Produto</h3>
          <button class="close-btn" aria-label="Fechar modal">&times;</button>
        </div>
        <div class="modal-body">
          <form id="formAcoes">
            <input type="hidden" id="itemId" />
            <div class="form-group">
              <label for="itemNome">Nome do Produto:</label>
              <input type="text" id="itemNome" required />
            </div>
            <div class="form-group">
              <label for="quantidadeAtual">Quantidade Atual:</label>
              <input type="number" id="quantidadeAtual" readonly />
            </div>
            <div class="form-group">
              <label for="acaoTipo">Tipo de Ação:</label>
              <select id="acaoTipo" required>
                <option value="">Selecione</option>
                <option value="retirar">Retirar</option>
                <option value="adicionar">Adicionar</option>
                <option value="editar_nome">Editar Nome</option>
              </select>
            </div>
            <div class="form-group" id="quantidadeAcaoGrupo" style="display:none;">
              <label for="quantidadeAcao">Quantidade:</label>
              <input type="number" id="quantidadeAcao" min="1" />
            </div>
            <div class="form-group" id="responsavelGrupo" style="display:none;">
              <label for="responsavel">Responsável:</label>
              <input type="text" id="responsavel" />
            </div>
            <div class="form-group">
              <label for="observacao">Observação:</label>
              <textarea id="observacao" rows="3"></textarea>
            </div>
            <div class="form-actions">
              <button type="submit" class="btn primary">
                <i class="fas fa-check"></i> Confirmar
              </button>
            </div>
          </form>
        </div>
      </div>
    </div>

    <!-- Modal Galeria de Imagens -->
    <!-- O modal da galeria será criado dinamicamente via JS, mas você pode colocar esse div como fallback se quiser -->
    <!-- Não é obrigatório, pois o modal é criado dinamicamente em estoque.js -->

  </main>

  <!-- Div para notificação -->
  <div id="notification" class="notification" hidden></div>

  <script type="module" src="js/estoque.js"></script>
</body>
</html>
